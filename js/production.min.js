function hexc(a){var b=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);delete b[0];for(var c=1;3>=c;++c)b[c]=parseInt(b[c]).toString(16),1==b[c].length&&(b[c]="0"+b[c]);color="#"+b.join("")}function equalHeight(a){if(a.removeAttr("style"),$(window).width()>mediumBreakPoint){var b=0;a.each(function(){var a=$(this.outerHeight()+20);a>b&&(b=a)}),a.height(b)}}function saveSettings(){localStorage.name=$("#name").val(),localStorage.email=$("#email").val()}function loadSettings(){$("#name").val(localStorage.name),$("#email").val(localStorage.email),$("#copy").val(localStorage.email)}function getData(a){$(".week-nav").html(""),$.ajax({dataType:"json",url:"/json/nfl2017.json",success:function(b){for($('<span class="text-center week-nav"><span class="pag prev" data-week="'+parseFloat(a-1)+'"></span> Week '+parseFloat(a+1)+' <span class="pag next" data-week="'+parseFloat(a+1)+'"></span> </span>').appendTo("#weekly h1"),0==a?$(".prev").hide():16==a&&$(".next").hide(),$("#subject").val("Week "+parseFloat(a+1)+" Picks"),i=0;i<b[a].game_days.length;i++)for(m=0;m<b[a].game_days[i].matches.length;m++){var c=(b[a].game_days[i].date,b[a].game_days[i].matches[m].id),d=b[a].game_days[i].matches[m].last,e=b[a].game_days[i].matches[m].home.stadium,f=b[a].game_days[i].matches[m].tv,g=b[a].game_days[i].matches[m].away.nick,h=b[a].game_days[i].matches[m].home.nick;Number.prototype.pad=function(a){return(new Array(a+1).join("0")+this).slice(-a)};var j,k=new Date(b[a].game_days[i].matches[m].timestamp),l=b[a].game_days[i].matches[m].timestamp.slice(0,3),n=k.getHours()%12||12,o=k.getMinutes().pad(2),p=+n+":"+o,q=b[a].game_days[i].matches[m].away.nick,r=b[a].game_days[i].matches[m].home.nick;$("label").click(function(){j=$(this).attr("for")}),$(function(){var a,b=document.getElementsByClassName("location");for(a=0;a<b.length;a++)b[a].onclick=function(){this.classList.toggle("active"),this.nextElementSibling.classList.toggle("show")}}),1==d?$('<h3>Tie-Breaker Game</h3><li>\n            <div class="teams">\n            <div class="half away">\n            <input type="radio" class="radio" id="'+g+'" name="Game'+c+'" value="'+q+'" required>\n            <label for="'+g+'"><img src="/images/logos/'+q+'.png" style="float: right;" alt="'+q+' logo" />'+q+'</label>\n            </div>\n            <div class="half home">\n            <input type="radio" class="radio" id="'+h+'" name="Game'+c+'" value="'+r+'" required>\n            <label for="'+h+'"><img src="/images/logos/'+r+'.png" style="float: left;" alt="'+r+' logo" />'+r+'</label>\n            </div>\n            </div>\n            <div class="full location mon">\n            <strong> '+l+" "+p+" MST on "+f+'</strong> <span class="mobile-hidden"> - </span> <br class="rwd-break">'+e+'\n            </div>\n\n            <div class="full">\n            <label for="'+c+'" class="total_score">Game Total:</label>\n            <input type="number" min="0" inputmode="numeric" pattern="[0-9]*" class="total_score" id="'+c+'" name="Score'+c+'" placeholder="0" required>\n            </div>\n\n            </li>').appendTo(".matches"):$('<li>\n            <div class="teams">\n            <div class="half away">\n            <input type="radio" class="radio" id="'+g+'" name="Game'+c+'" value="'+q+'" required>\n            <label for="'+g+'"><img src="/images/logos/'+q+'.png" style="float: right;" alt="'+q+' logo" />'+q+'</label>\n            <span class="standings"></span>\n            </div>\n            <div class="half home">\n            <input type="radio" class="radio" id="'+h+'" name="Game'+c+'" value="'+r+'" required>\n            <label for="'+h+'"><img src="/images/logos/'+r+'.png" style="float: left;" alt="'+r+' logo" />'+r+'</label>\n            </div>\n            </div>\n            <div class="full location">\n            <strong> '+l+" "+p+" MST on "+f+'</strong> <span class="mobile-hidden"> - </span> <br class="rwd-break">'+e+"\n            </div>\n            </li>").appendTo(".matches");var s=new Date;s>k&&$(".teams input[type=radio]").removeAttr("required").attr("disabled",!0)}}})}var color="";$(".swatch").each(function(){var a=$(this).children(".swatch-color").attr("class").split(" ");for(i=0;i<=a.length-1;i++)if(a[i].match(/color-/g)){$(this).children(".swatch-info").prepend("<p>$"+a[i]+"</p>");break}var b=$(this).children(".swatch-color").css("backgroundColor");hexc(b),$(this).children(".swatch-info").append("<p>"+color+"</p>"),$(this).children(".swatch-info").append("<p>"+b+"</p>")}),function(a){a.fn.vs=function(){a(".vs").click(function(){return a(this).parent().next().find(".prettyprint").toggle(),a(this).not(".disabled").toggleClass("js-active"),!1})}}(jQuery),$(".vs").vs(),$(".fonts").each(function(){var a=$(this).css("font-family");$(this).prepend(a)}),$(window).on("load",function(){equalHeight($(".equal"))}),$("img.svg").each(function(){var a=$(this),b=a.attr("id"),c=a.attr("class"),d=a.attr("src");$.get(d,function(d){var e=$(d).find("svg");"undefined"!=typeof b&&(e=e.attr("id",b)),"undefined"!=typeof c&&(e=e.attr("class",c+" replaced-svg")),e=e.removeAttr("xmlns:a"),a.replaceWith(e)},"xml")});var isTouch="ontouchstart"in document.documentElement,smallBreakPoint=640,mediumBreakPoint=768;!function(){for(var a=document.links,b=0,c=a.length;c>b;b++)a[b].hostname!=window.location.hostname&&(a[b].target="_blank",a[b].className+=" externalLink")}(),$("#weekly").on("submit",function(){$('<fieldset><input type="hidden" name="Week" value="Week '+parseFloat(week+1)+'"></fieldset>').appendTo(".hidden")}),$(function(){function a(){c.val(b.val())}var b=$("#email"),c=$("#copy");$("#email").change(a).keyup(a)}),$(window).on("load",saveSettings),$(window).on("load",loadSettings);var request;$("#weekly").submit(function(){request&&request.abort();var a=$(this),b=(a.find("input, select, button, textarea"),a.serialize());request=$.ajax({url:"https://script.google.com/macros/s/AKfycby7D7lSIU3gBfX7m7jgRC5HcGj402jOHbDosFYUamBRWEX-PZE9/exec",type:"post",data:b}),request.done(function(a,b,c){console.log("Hooray, it worked!"),console.log(a),console.log(b),console.log(c)}),request.fail(function(a,b,c){console.error("The following error occurred: "+b,c)}),request.always(function(){})}),$.ajax({dataType:"json",url:"/json/season-leaderboard.json",success:function(a){var b,c=0,d=0,e=1;for(a.sort(function(a,b){return parseFloat(b.total)-parseFloat(a.total)}),i=0;i<a.length;i++){var f=a[i].total,g=gamesTotal-f;if(d!=f)var c=e,d=f;else if(d==f)var c=c;if(0==i)var h=100/f;var j=(f/gamesTotal*100).toFixed(2)+"%",k=(f*h).toFixed(2)+"%";b=$("<tr/>"),b.append('<td style="width: '+k+'"><span class="rank">'+c+'</span><span class="player">'+a[i].player+'</span><span class="total right" data-record="'+f+" - "+g+'" data-pct="'+j+'"></span></td>'),$("#season-leaderboard").append(b),e++}}}),$.ajax({dataType:"json",url:"/json/weekly-leaderboard.json",success:function(a){var b,c=0,d=0,e=1;for(a.sort(function(a,b){return parseFloat(b.total)-parseFloat(a.total)}),$('<span class="text-center week-nav"> Week '+parseFloat(week+1)+" Leaders</span>").appendTo(".weekly-total"),i=0;i<a.length;i++){var f=a[i].total;if(d!=f)var c=e,d=f;else if(d==f)var c=c;if(0==i)var g=100/f;var h=(f/gamesTotal*100).toFixed(2)+"%",j=(f*g).toFixed(2)+"%";b=$("<tr/>"),b.append('<td style="width: '+j+'"><span class="rank">'+c+'</span><span class="player">'+a[i].player+'</span><span class="total right" data-record="'+a[i].total+'" data-pct="'+h+'"></span></td>'),$("#weekly-leaderboard").append(b),e++}}});var week1=new Date,week2=new Date("9/07/2017"),week3=new Date("9/14/2017"),week4=new Date("9/21/2017"),week5=new Date("9/28/2017"),week6=new Date("10/05/2017"),week7=new Date("10/12/2017"),week8=new Date("10/19/2017"),week9=new Date("10/26/2017"),week10=new Date("11/02/2017"),week11=new Date("11/09/2017"),week12=new Date("11/16/2017"),week13=new Date("11/23/2017"),week14=new Date("11/30/2017"),week15=new Date("12/07/2017"),week16=new Date("12/14/2017"),week17=new Date("12/23/2017"),week18=new Date("12/31/2017"),today=new Date;if(week1>today)var week=0;if(today>=week1)var week=0;if(today>=week2)var week=1;if(today>=week3)var week=2;if(today>=week4)var week=3;if(today>=week5)var week=4;if(today>=week6)var week=5;if(today>=week7)var week=6;if(today>=week8)var week=7;if(today>=week9)var week=8;if(today>=week10)var week=9;if(today>=week11)var week=10;if(today>=week12)var week=11;if(today>=week13)var week=12;if(today>=week14)var week=13;if(today>=week15)var week=14;if(today>=week16)var week=15;if(today>=week17)var week=16;if(today>=week18)var week=17;var plus_one=1,week_number=week+plus_one,gamesTotal=256;getData(week),$(document).on("click touchstart",".pag",function(){$(".matches").html(""),getData($(this).data("week"))});var spreadsheetID="1_w6b0iUDaUbKD6qLD52BcRG1pIMh90P-Av4o0w5TAB8",url="https://spreadsheets.google.com/feeds/list/"+spreadsheetID+"/default/public/values?alt=json";$.getJSON(url,function(a){var b=a.feed.entry;if(null!=b&&b.length<1){var c=b.length;$(".player-count").append("<span>"+c+"</span>");var d=(5*c*.9).toFixed(2),e="";$(".weekly-pot").append("<span> $"+d+"</span>"),$(".season-pot").append("<span> $"+e+"</span>")}});